import easyocr
reader = easyocr.Reader(['ch_sim','en']) # need to run only once to load model into memory

'''
pdf_path     文件路径
dpi          生成图片的像素
output_folder   生成图片的存储路径
first_page     第一页允许pdftoppm处理
last_page      最后一页允许pdftoppm处理
fmt           JPEG
output_file    存储文件的名字
thread_count   如果文档里面有多张图片命名后面多加几个数字
'''
from pdf2image import convert_from_path
convert_from_path('0002514084.pdf', 500, "output", fmt="JPEG", output_file="0002514084", thread_count=4)

'''
from pdf2image import convert_from_path
pages = convert_from_path('pdf_file', 500)
for page in pages:
    page.save('out.jpg', 'JPEG')
'''

filename = 'output/00025140840001-1.jpg'
#result = reader.readtext(filename)
result = reader.readtext(filename, detail = 0)
print(result)
'''
[([[498, 222], [717, 222], [717, 307], [498, 307]], '国家电网', 0.9002141952514648), ([[3217, 239], [3456, 239], [3456, 277], [3217, 277]], '24 I]187[|03F@+', 1.4807936167926528e-05), ([[3114, 262], [3473, 262], [3473, 372], [3114, 372]], '95598', 0.37018296122550964), ([[508, 289], [706, 289], [706, 327], [508, 327]], 'STATE GRD', 0.23997238278388977), ([[498, 352], [881, 352], [881, 406], [498, 406]], '国网北京市电力公司', 0.9718721508979797), ([[1334, 379], [2713, 379], [2713, 538], [1334, 538]], '用电客户电费交费通知单', 0.4945436120033264), ([[3018, 393], [3769, 393], [3769, 546], [3018, 546]], '10. 0291407', 0.2966328561306), ([[853, 401], [937, 401], [937, 416], [853, 416]], '(n', 4.7279543650802225e-05), ([[165, 722], [442, 722], [442, 825], [165, 825]], '增值税', 0.3839002251625061), ([[554, 733], [1194, 733], [1194, 820], [554, 820]], '9111000031815531}', 0.10965787619352341), ([[1203, 835], [2801, 835], [2801, 955], [1203, 955]], '用户名称:中国铁塔股份有限公司北京市分公司', 0.028839005157351494), ([[165, 841], [519, 841], [519, 944], [165, 944]], '用户编导:', 0.31590425968170166), ([[2833, 846], [3516, 846], [3516, 949], [2833, 949]], '电氏等级:交疏380', 0.005423189140856266), ([[555, 852], [938, 852], [938, 933], [555, 933]], '0002514084', 0.6663848161697388), ([[162, 951], [449, 951], [449, 1066], [162, 1066]], '缴费号:', 0.34007859230041504), ([[1206, 959], [2800, 959], [2800, 1068], [1206, 1068]], '缴费户名:中围铁塔股份有限公司北京市分公司', 0.014132318086922169), ([[554, 970], [939, 970], [939, 1057], [554, 1057]], '1045008134', 0.26509517431259155), ([[165, 1079], [519, 1079], [519, 1177], [165, 1177]], '用户地址:', 0.7338411808013916), ([[544, 1079], [2301, 1079], [2301, 1182], [544, 1182]], '北宗市朝阳区十八里店垅区办#处西直涧村西自涧村路()', 2.6682932912081014e-06), ([[2404, 1079], [2753, 1079], [2753, 1182], [2404, 1182]], '龟m奘型:', 0.014037331566214561), ([[2829, 1079], [3155, 1079], [3155, 1182], [2829, 1182]], '正常电费', 0.17474231123924255), ([[60, 1198], [519, 1198], [519, 1300], [60, 1300]], 'g收年月:', 0.10635299235582352), ([[545, 1208], [952, 1208], [952, 1299], [545, 1299]], '2019年01月]', 0.19278527796268463), ([[161, 1312], [505, 1312], [505, 1410], [161, 1410]], '计垦点缡号', 0.02806750126183033), ([[2834, 1322], [3237, 1322], [3237, 1409], [2834, 1409]], '父汁冕点缩导', 9.337419760413468e-05), ([[2027, 1323], [2290, 1323], [2290, 1404], [2027, 1404]], '疋比铊蠡', 0.0010897344909608364), ([[688, 1328], [1075, 1328], [1075, 1408], [688, 1408]], '50311224076', 0.8680585622787476), ([[165, 1417], [442, 1417], [442, 1515], [165, 1515]], '电饥y剔', 0.0014409765135496855), ([[751, 1423], [1025, 1423], [1025, 1510], [751, 1510]], '披工陶业', 0.10619080066680908), ([[684, 1507], [1982, 1507], [1982, 1619], [684, 1619]], '朝阳区十儿里店芗酉直逦村 LOQOI~朝阳新凯:', 2.080566446238663e-06), ([[161, 1513], [501, 1513], [501, 1611], [161, 1611]], '汁堡点地址', 0.08821608126163483), ([[2004, 1524], [2304, 1524], [2304, 1605], [2004, 1605]], 'm, DBG)', 0.0027096946723759174), ([[160, 1634], [502, 1634], [502, 1735], [160, 1735]], '汁匮点电篑', 0.0082772271707654), ([[692, 1646], [1258, 1646], [1258, 1733], [692, 1733]], '电虞电费4393. OI元', 0.00916292518377304), ([[782, 1755], [1077, 1755], [1077, 1853], [782, 1853]], '抄表示数', 0.22892476618289948), ([[1239, 1755], [1515, 1755], [1515, 1853], [1239, 1853]], '上次抄表', 0.06441967934370041), ([[2970, 1760], [3251, 1760], [3251, 1858], [2970, 1858]], '加溅龟F', 0.004981420934200287), ([[1642, 1761], [1921, 1761], [1921, 1852], [1642, 1852]], '本玖抄袤', 0.006210291758179665), ([[2048, 1761], [2332, 1761], [2332, 1852], [2048, 1852]], 'I绨抄嵬', 0.0014382180524989963), ([[3492, 1765], [3767, 1765], [3767, 1857], [3492, 1857]], '沙见电夤', 0.050780873745679855), ([[272, 1803], [540, 1803], [540, 1883], [272, 1883]], '由能袤号', 0.011767405085265636), ([[2529, 1812], [2669, 1812], [2669, 1892], [2529, 1892]], '倍*', 0.06978189200162888), ([[2980, 1847], [3246, 1847], [3246, 1935], [2980, 1935]], '(干瓦肛)', 0.03791854530572891), ([[3501, 1847], [3762, 1847], [3762, 1935], [3501, 1935]], '(干瓦肘}', 0.25980645418167114), ([[852, 1848], [1006, 1848], [1006, 1929], [852, 1929]], '类型', 0.6702291965484619), ([[1305, 1848], [1454, 1848], [1454, 1929], [1305, 1929]], '亓数', 0.8279684782028198), ([[1711, 1848], [1851, 1848], [1851, 1929], [1711, 1929]], '示效', 0.6119202375411987), ([[2118, 1848], [2262, 1848], [2262, 1929], [2118, 1929]], '苏数', 0.08409249782562256), ([[293, 1938], [1003, 1938], [1003, 2036], [293, 2036]], '3400541509_1功(总)', 0.030307918787002563), ([[3676, 1949], [3830, 1949], [3830, 2025], [3676, 2025]], '5205', 0.42572343349456787), ([[1333, 1950], [1544, 1950], [1544, 2019], [1333, 2019]], '178841', 0.9198404550552368), ([[1772, 1950], [1992, 1950], [1992, 2019], [1772, 2019]], '184100', 0.39496225118637085), ([[297, 2025], [1068, 2025], [1068, 2141], [297, 2141]], '3400541509_直功(尖峰)', 0.028471948578953743), ([[1401, 2049], [1554, 2049], [1554, 2125], [1401, 2125]], '5013', 0.9577313661575317), ([[1835, 2049], [1988, 2049], [1988, 2125], [1835, 2125]], '6013', 0.6924470067024231), ([[298, 2134], [1003, 2134], [1003, 2232], [298, 2232]], '3400641509|元功(总)', 0.2139424979686737), ([[1364, 2150], [1554, 2150], [1554, 2230], [1364, 2230]], '20493', 0.6316036581993103), ([[3708, 2150], [3830, 2150], [3830, 2226], [3708, 2226]], '3y9', 0.33722415566444397), ([[1803, 2155], [1984, 2155], [1984, 2235], [1803, 2235]], '20791', 0.9408183693885803), ([[297, 2226], [1000, 2226], [1000, 2337], [297, 2337]], '3400541509_有功(峰)', 0.26142698526382446), ([[1364, 2250], [1545, 2250], [1545, 2331], [1364, 2331]], '57071', 0.8041993975639343), ([[1803, 2250], [1993, 2250], [1993, 2331],
[1803, 2331]], '58846', 0.9232781529426575), ([[3676, 2250], [3830, 2250], [3830, 2326], [3676, 2326]], '1775', 0.9612621665000916), ([[296, 2332], [1002, 2332], [1002, 2442], [296, 2442]], '3400541509_/功(旮)', 0.022462762892246246), ([[3676, 2351], [3830, 2351], [3830, 2427], [3676, 2427]], '1719', 0.8957684636116028), ([[1365, 2352], [1553, 2352], [1553, 2421], [1365, 2421]], '58880', 0.7528761625289917), ([[1804, 2352], [1987, 2352], [1987, 2421], [1804, 2421]], '60099', 0.7322527766227722), ([[792, 2428], [1062, 2428], [1062, 2515], [792, 2515]], '扣饿电垦', 0.37841156125068665), ([[2464, 2432], [2734, 2432], [2734, 2519], [2464, 2519]], '结鬃屯垦', 0.07864318042993546), ([[1241, 2433], [1509, 2433], [1509, 2514], [1241, 2514]], '戊损电凰', 0.0383717305958271), ([[1647, 2433], [1915, 2433], [1915, 2514], [1647, 2514]], '线损电垦', 0.050376735627651215), ([[2027, 2433], [2358, 2433], [2358, 2514], [2027, 2514]], '嫠逍灯
电_', 0.0010810225503519177), ([[2981, 2438], [3254, 2438], [3254, 2518], [2981, 2518]], '电厦电价', 0.11720886826515198), ([[3502, 2438], [3770, 2438], [3770, 2518], [3502, 2518]], '电谊电天', 0.022304560989141464), ([[203, 2464], [605, 2464], [605, 2556], [203, 2556]], '电瘐分殷栎志', 2.46316831180593e-05), ([[792, 2510], [1057, 2510], [1057, 2597], [792, 2597]], '(主瓦时)', 0.05925380811095238), ([[2930, 2510], [3296, 2510], [3296, 2602], [2930, 2602]], '(元/壬瓦时)', 0.36417004466056824), ([[1651, 2514], [1916, 2514], [1916, 2602], [1651, 2602]], '(壬瓦时)', 0.376004159450531), ([[2058, 2514], [2323, 2514], [2323, 2602], [2058, 2602]], '{壬豆时)', 0.12906771898269653), ([[1245, 2515], [1504, 2515], [1504, 2596], [1245, 2596]], '(王瓦助', 0.029900340363383293), ([[2465, 2515], [2724, 2515], [2724, 2596], [2465, 2596]], '{壬瓦时)', 0.05262208729982376), ([[3562, 2520], [3702, 2520], [3702, 2596], [3562, 2596]], '(元', 0.6944840550422668), ([[331, 2601], [482, 2601], [482, 2688], [331, 2688]], '尖v', 0.0389215461909771), ([[324, 2694], [481, 2694], [481, 2787], [324, 2787]], '峰殿', 0.18857328593730927), ([[2644, 2713], [2801, 2713], [2801, 2782], [2644, 2782]], '1775', 0.9263529181480408), ([[3215, 2713], [3399, 2713], [3399,

['国家电网', '24 I]187[|03F@+', '95598', 'STATE GRD', '国网北京市电力公司', '用电客户电费交费通知单', '10. 0291407', '(n', '增值税', '9111000031815531}', '用
户名称:中国铁塔股份有限公司北京市分公司', '用户编导:', '电氏等级:交疏380', '0002514084', '缴费号:', '缴费户名:中围铁塔股份有限公司北京市分公司', '1045008134', '用户地址:', '北宗市朝阳区十八里店垅区办#处西直涧村西自涧村路()', '龟m奘型:', '正常电费', 'g收年月:', '2019年01月]', '计垦点缡号', '父汁冕点缩导', '疋比铊
蠡', '50311224076', '电饥y剔', '披工陶业', '朝阳区十儿里店芗酉直逦村 LOQOI~朝阳新凯:', '汁堡点地址', 'm, DBG)', '汁匮点电篑', '电虞电费4393. OI元', '抄表示数', '上次抄表', '加溅龟F', '本玖抄袤', 'I绨抄嵬', '沙见电夤', '由能袤号', '倍*', '(干瓦肛)', '(干瓦肘}', '类型', '亓数', '示效', '苏数', '3400541509_1功(总)', '5205', '178841', '184100', '3400541509_直功(尖峰)', '5013', '6013', '3400641509|元功(总)', '20493', '3y9', '20791', '3400541509_有功(峰)', '57071', '58846', '1775', '3400541509_/功(旮)', '1719', '58880', '60099', '扣饿电垦', '结鬃屯垦', '戊损电凰', '线损电垦', '嫠逍灯电_', '电厦电价', '电谊电天', '电瘐分殷栎
志', '(主瓦时)', '(元/壬瓦时)', '(壬瓦时)', '{壬豆时)', '(王瓦助', '{壬瓦时)', '(元', '尖v', '峰殿', '1775', '1,346', '2389, 15', '爷殷', '1719', '0. 3206', '551,11', '平段', '1771', '0, 8203', '1452,75', '小计', '5265', '4393, 01', '电度由h由包栉:化允名n甚乞和酏加t白让153 21元(v60 Oz元47[8[)', '.`本月电费总计:', '最迟交费日期: 2019年1月25日', '打E臼期:', '4393,01元', '2019-01-?3', '本月应补交电费:4383,O1元,预收电橥宋额:0元', '截至 2OI9年1月23日', '供电单位:', '翠
城菅业萨', '催收部门:', '桫表部门:', '桫表', ']融机构联网[收', '僬收人员:', '缴费方忒:', '抄表段:', '抄表人员:张继', '吧话:', '6001068511', '15811195404', '
联琉电话:', '盆V:', '67299380', '您除可以至电力公司上述供电单位交羲外,还可以选9鼾边的工商银行,然龀锒行', '中囝银行.农村商业', '薜行,邯政储蔷银行网点就近进行
交费,或耆选拜工骑锻行网上渠逍进仔足不出H交贾6', '掌上电力', '电力微信', '国网北京市电力公司']   
'''